<Window x:Class="Test.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Test"
         xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
         xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        Title="AvalonEdit Demo" Height="450" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Панель навигации -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5">
            <Button x:Name="BackButton" Content="← Назад" Click="BackButton_Click" Margin="5" Padding="10,2"/>
            <Button x:Name="ForwardButton" Content="Вперед →" Click="ForwardButton_Click" Margin="5" Padding="10,2"/>
            <Button x:Name="RefreshButton" Content="Обновить" Click="RefreshButton_Click" Margin="5" Padding="10,2"/>
            <TextBox x:Name="UrlTextBox" Width="300" Margin="5" KeyDown="UrlTextBox_KeyDown"/>
            <Button x:Name="GoButton" Content="Перейти" Click="GoButton_Click" Margin="5" Padding="10,2"/>
        </StackPanel>

        <!-- WebView2 контрол -->
        <wv2:WebView2 x:Name="webView" 
                     Grid.Row="1" 
                     Source="https://www.google.com"
                     NavigationStarting="WebView_NavigationStarting"
                     NavigationCompleted="WebView_NavigationCompleted"
                     CoreWebView2InitializationCompleted="WebView_CoreWebView2InitializationCompleted"/>

        <!-- Статус бар -->
        <StatusBar Grid.Row="2">
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="Готово"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <ProgressBar x:Name="ProgressBar" Width="100" Height="15" IsIndeterminate="False"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>